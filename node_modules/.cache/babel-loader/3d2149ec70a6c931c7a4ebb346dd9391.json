{"ast":null,"code":"import _slicedToArray from\"/home/haroon/Desktop/React/LearningReact/state_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import Spinner from\"./Spinner\";import{useState}from\"react\";import useFetch from\"../services/useFetch\";export default function Products(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),size=_useState2[0],setSize=_useState2[1];var _useFetch=useFetch(\"products?category=shoes\"),products=_useFetch.data,loading=_useFetch.loading,error=_useFetch.error;function renderProduct(p){return/*#__PURE__*/React.createElement(\"div\",{key:p.id,className:\"product\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/images/\".concat(p.image),alt:p.name}),/*#__PURE__*/React.createElement(\"h3\",null,p.name),/*#__PURE__*/React.createElement(\"p\",null,\"$\",p.price)));}var filterProduct=size?products.filter(function(p){return p.skus.find(function(s){return s.size===parseInt(size);});}):products;if(error)throw error;if(loading)return/*#__PURE__*/React.createElement(Spinner,null);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"section\",{id:\"filters\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"size\"},\"Filter by Size:\"),\" \",/*#__PURE__*/React.createElement(\"select\",{id:\"size\",value:size,onChange:function onChange(e){return setSize(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"All sizes\"),/*#__PURE__*/React.createElement(\"option\",{value:\"7\"},\"7\"),/*#__PURE__*/React.createElement(\"option\",{value:\"8\"},\"8\"),/*#__PURE__*/React.createElement(\"option\",{value:\"9\"},\"9\")),size&&/*#__PURE__*/React.createElement(\"h2\",null,\" \",filterProduct.length,\" items\")),/*#__PURE__*/React.createElement(\"section\",{id:\"products\"},filterProduct.map(renderProduct)));}","map":{"version":3,"sources":["/home/haroon/Desktop/React/LearningReact/state_management/src/components/products.jsx"],"names":["React","Spinner","useState","useFetch","Products","size","setSize","products","data","loading","error","renderProduct","p","id","image","name","price","filterProduct","filter","skus","find","s","parseInt","e","target","value","length","map"],"mappings":"gLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CAGA,cAAe,SAASC,CAAAA,QAAT,EAAoB,eACTF,QAAQ,CAAC,EAAD,CADC,wCAC1BG,IAD0B,eACpBC,OADoB,6BAGUH,QAAQ,CAAC,yBAAD,CAHlB,CAGnBI,QAHmB,WAGzBC,IAHyB,CAGTC,OAHS,WAGTA,OAHS,CAGAC,KAHA,WAGAA,KAHA,CAOjC,QAASC,CAAAA,aAAT,CAAuBC,CAAvB,CAA0B,CACxB,mBACE,2BAAK,GAAG,CAAEA,CAAC,CAACC,EAAZ,CAAgB,SAAS,CAAC,SAA1B,eACE,yBAAG,IAAI,CAAC,GAAR,eACE,2BAAK,GAAG,mBAAaD,CAAC,CAACE,KAAf,CAAR,CAAgC,GAAG,CAAEF,CAAC,CAACG,IAAvC,EADF,cAEE,8BAAKH,CAAC,CAACG,IAAP,CAFF,cAGE,iCAAKH,CAAC,CAACI,KAAP,CAHF,CADF,CADF,CASD,CAED,GAAMC,CAAAA,aAAa,CAAGZ,IAAI,CAAGE,QAAQ,CAACW,MAAT,CAAgB,SAAAN,CAAC,QAAIA,CAAAA,CAAC,CAACO,IAAF,CAAOC,IAAP,CAAY,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAAChB,IAAF,GAAWiB,QAAQ,CAACjB,IAAD,CAA1B,EAAZ,CAAJ,EAAjB,CAAH,CAAyEE,QAAnG,CACA,GAAIG,KAAJ,CAAW,KAAMA,CAAAA,KAAN,CACX,GAAID,OAAJ,CAAa,mBAAO,oBAAC,OAAD,MAAP,CAEb,mBAEE,qDACM,+BAAS,EAAE,CAAC,SAAZ,eACE,6BAAO,OAAO,CAAC,MAAf,oBADF,CACgD,GADhD,cAGE,8BAAQ,EAAE,CAAC,MAAX,CACE,KAAK,CAAEJ,IADT,CAEE,QAAQ,CAAE,kBAACkB,CAAD,QAAOjB,CAAAA,OAAO,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAFZ,eAIE,8BAAQ,KAAK,CAAC,EAAd,cAJF,cAKE,8BAAQ,KAAK,CAAC,GAAd,MALF,cAME,8BAAQ,KAAK,CAAC,GAAd,MANF,cAOE,8BAAQ,KAAK,CAAC,GAAd,MAPF,CAHF,CAYGpB,IAAI,eAAI,kCAAMY,aAAa,CAACS,MAApB,UAZX,CADN,cAeM,+BAAS,EAAE,CAAC,UAAZ,EACGT,aAAa,CAACU,GAAd,CAAkBhB,aAAlB,CADH,CAfN,CAFF,CAuBD","sourcesContent":["import React from \"react\";\nimport Spinner from \"./Spinner\"\nimport { useState } from \"react\";\nimport useFetch from \"../services/useFetch\";\n\n\nexport default function Products() {\n  const [size, setSize] = useState(\"\");\n\n  const { data: products, loading, error } = useFetch(\"products?category=shoes\");\n\n\n\n  function renderProduct(p) {\n    return (\n      <div key={p.id} className=\"product\">\n        <a href=\"/\">\n          <img src={`/images/${p.image}`} alt={p.name} />\n          <h3>{p.name}</h3>\n          <p>${p.price}</p>\n        </a>\n      </div>\n    );\n  }\n\n  const filterProduct = size ? products.filter(p => p.skus.find((s) => s.size === parseInt(size))) : products;\n  if (error) throw error;\n  if (loading) return <Spinner />\n\n  return (\n\n    <>\n          <section id=\"filters\">\n            <label htmlFor=\"size\">Filter by Size:</label>{\" \"}\n\n            <select id=\"size\"\n              value={size}\n              onChange={(e) => setSize(e.target.value)}\n            >\n              <option value=\"\">All sizes</option>\n              <option value=\"7\">7</option>\n              <option value=\"8\">8</option>\n              <option value=\"9\">9</option>\n            </select>\n            {size && <h2> {filterProduct.length} items</h2>}\n          </section>\n          <section id=\"products\">\n            {filterProduct.map(renderProduct)}\n\n          </section>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}