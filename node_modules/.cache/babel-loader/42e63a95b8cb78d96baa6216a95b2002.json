{"ast":null,"code":"import { useState, useEffect } from \"react\";\nconst baseUrl = process.env.REACT_APP_API_BASE_URL;\nexport default function useFetch(url) {\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    async function init() {\n      try {\n        const response = await fetch(baseUrl + url);\n\n        if (response.ok) {\n          const json = await response.json();\n          setData(json);\n        } else {\n          throw response;\n        }\n      } catch (e) {\n        setError(e);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    init();\n  }, [url]);\n  return {\n    data,\n    error,\n    loading\n  };\n}","map":{"version":3,"sources":["/home/haroon/Desktop/React/LearningReact/online-store/src/services/useFetch.js"],"names":["useState","useEffect","baseUrl","process","env","REACT_APP_API_BASE_URL","useFetch","url","data","setData","error","setError","loading","setLoading","init","response","fetch","ok","json","e"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA5B;AAEA,eAAe,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AAClC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AAGAC,EAAAA,SAAS,CAAC,MAAK;AAEX,mBAAea,IAAf,GAAsB;AAClB,UAAI;AACA,cAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACd,OAAO,GAAGK,GAAX,CAA5B;;AACA,YAAIQ,QAAQ,CAACE,EAAb,EAAiB;AACb,gBAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACG,IAAT,EAAnB;AACAT,UAAAA,OAAO,CAACS,IAAD,CAAP;AACH,SAHD,MAIK;AACD,gBAAMH,QAAN;AACH;AAEJ,OAVD,CAWA,OAAOI,CAAP,EAAU;AACNR,QAAAA,QAAQ,CAACQ,CAAD,CAAR;AACH,OAbD,SAcQ;AACJN,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ;;AACDC,IAAAA,IAAI;AACP,GAtBQ,EAsBN,CAACP,GAAD,CAtBM,CAAT;AAwBA,SAAO;AAAEC,IAAAA,IAAF;AAAQE,IAAAA,KAAR;AAAeE,IAAAA;AAAf,GAAP;AACH","sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst baseUrl = process.env.REACT_APP_API_BASE_URL;\n\nexport default function useFetch(url) {\n    const [data, setData] = useState(null);\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(true);\n\n\n    useEffect(() =>{\n\n        async function init() {\n            try {\n                const response = await fetch(baseUrl + url);\n                if (response.ok) {\n                    const json = await response.json();\n                    setData(json);\n                }\n                else {\n                    throw response;\n                }\n\n            }\n            catch (e) {\n                setError(e);\n            }\n            finally {\n                setLoading(false);\n            }\n        }\n        init();\n    }, [url]);\n\n    return { data, error, loading };\n}"]},"metadata":{},"sourceType":"module"}