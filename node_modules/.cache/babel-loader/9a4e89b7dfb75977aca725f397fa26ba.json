{"ast":null,"code":"import _regeneratorRuntime from\"/home/haroon/Desktop/React/LearningReact/state_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/haroon/Desktop/React/LearningReact/state_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/haroon/Desktop/React/LearningReact/state_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";var baseUrl=process.env.REACT_APP_API_BASE_URL;export default function useFetch(url){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){function init(){return _init.apply(this,arguments);}function _init(){_init=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(baseUrl+url);case 3:response=_context.sent;if(!response.ok){_context.next=11;break;}_context.next=7;return response.json();case 7:json=_context.sent;setData(json);_context.next=12;break;case 11:throw response;case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 17:_context.prev=17;setLoading(false);return _context.finish(17);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,14,17,20]]);}));return _init.apply(this,arguments);}init();},[url]);return{data:data,error:error,loading:loading};}","map":{"version":3,"sources":["/home/haroon/Desktop/React/LearningReact/state_management/src/services/useFetch.js"],"names":["useState","useEffect","baseUrl","process","env","REACT_APP_API_BASE_URL","useFetch","url","data","setData","error","setError","loading","setLoading","init","fetch","response","ok","json"],"mappings":"6gBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,GAAMC,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA5B,CAEA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,GAAlB,CAAuB,eACVP,QAAQ,CAAC,IAAD,CADE,wCAC3BQ,IAD2B,eACrBC,OADqB,8BAERT,QAAQ,CAAC,IAAD,CAFA,yCAE3BU,KAF2B,eAEpBC,QAFoB,8BAGJX,QAAQ,CAAC,IAAD,CAHJ,yCAG3BY,OAH2B,eAGlBC,UAHkB,eAMlCZ,SAAS,CAAC,UAAK,SAEIa,CAAAA,IAFJ,sHAEX,2LAE+BC,CAAAA,KAAK,CAACb,OAAO,CAAGK,GAAX,CAFpC,QAEcS,QAFd,mBAGYA,QAAQ,CAACC,EAHrB,gDAI+BD,CAAAA,QAAQ,CAACE,IAAT,EAJ/B,QAIkBA,IAJlB,eAKYT,OAAO,CAACS,IAAD,CAAP,CALZ,oCAQkBF,CAAAA,QARlB,0FAaQL,QAAQ,aAAR,CAbR,yBAgBQE,UAAU,CAAC,KAAD,CAAV,CAhBR,sGAFW,uCAqBXC,IAAI,GACP,CAtBQ,CAsBN,CAACP,GAAD,CAtBM,CAAT,CAwBA,MAAO,CAAEC,IAAI,CAAJA,IAAF,CAAQE,KAAK,CAALA,KAAR,CAAeE,OAAO,CAAPA,OAAf,CAAP,CACH","sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst baseUrl = process.env.REACT_APP_API_BASE_URL;\n\nexport default function useFetch(url) {\n    const [data, setData] = useState(null);\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(true);\n\n\n    useEffect(() =>{\n\n        async function init() {\n            try {\n                const response = await fetch(baseUrl + url);\n                if (response.ok) {\n                    const json = await response.json();\n                    setData(json);\n                }\n                else {\n                    throw response;\n                }\n\n            }\n            catch (e) {\n                setError(e);\n            }\n            finally {\n                setLoading(false);\n            }\n        }\n        init();\n    }, [url]);\n\n    return { data, error, loading };\n}"]},"metadata":{},"sourceType":"module"}