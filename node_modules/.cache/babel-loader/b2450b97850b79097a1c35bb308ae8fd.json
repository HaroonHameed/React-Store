{"ast":null,"code":"var _jsxFileName = \"/home/haroon/Desktop/React/LearningReact/state_management/src/App.jsx\";\nimport React from \"react\";\nimport \"./App.css\";\nimport { Route, Routes } from 'react-router-dom';\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport Products from \"./components/products\";\nimport Details from \"./components/Details\";\nimport Cart from \"./components/Cart\";\nimport Checkout from \"./components/Checkout\";\nimport { useState, useEffect } from \"react\";\nimport { check } from \"yargs\";\nexport default function App() {\n  const [cart, setCart] = useState(() => {\n    try {\n      var _localStorage$getItem;\n\n      return JSON.parse((_localStorage$getItem = localStorage.getItem(\"cart\")) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : []);\n    } catch {\n      console.error(\"the cart could not be parsed into JSON\");\n      return [];\n    }\n  });\n  useEffect(() => localStorage.setItem(\"cart\", JSON.stringify(\"cart\", JSON.stringify(cart))), [cart]);\n\n  function addToCart(id, sku) {\n    setCart(items => {\n      const itemInCart = items.find(i => i.sku === sku);\n\n      if (itemInCart) {\n        // Return new array with the matching item replaced\n        return items.map(i => i.sku === sku ? { ...i,\n          quantity: i.quantity + 1\n        } : i);\n      } else {\n        // Return new array with the new item appended\n        return [...items, {\n          id,\n          sku,\n          quantity: 1\n        }];\n      }\n    });\n  }\n\n  function updateQuantity(sku, quantity) {\n    setCart(items => {\n      return quantity === 0 ? items.filter(i => i.sku !== sku) : items.map(i => i.sku === sku ? { ...i,\n        quantity\n      } : i);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 34\n      }\n    }, \"Welcome to craved rocked fitness\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/:category\",\n    element: /*#__PURE__*/React.createElement(Products, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 44\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/:category/:id\",\n    element: /*#__PURE__*/React.createElement(Details, {\n      addToCart: addToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 48\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/cart\",\n    element: /*#__PURE__*/React.createElement(Cart, {\n      cart: cart,\n      updateQuantity: updateQuantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 39\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/checkout\",\n    element: /*#__PURE__*/React.createElement(Checkout, {\n      cart: cart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 43\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 10\n    }\n  })))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/haroon/Desktop/React/LearningReact/state_management/src/App.jsx"],"names":["React","Route","Routes","Footer","Header","Products","Details","Cart","Checkout","useState","useEffect","check","App","cart","setCart","JSON","parse","localStorage","getItem","console","error","setItem","stringify","addToCart","id","sku","items","itemInCart","find","i","map","quantity","updateQuantity","filter"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport {Route,Routes} from 'react-router-dom'\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport Products from \"./components/products\";\nimport Details from \"./components/Details\";\nimport Cart from \"./components/Cart\";\nimport Checkout from \"./components/Checkout\";\n\nimport { useState, useEffect } from \"react\";\nimport { check } from \"yargs\";\n\n\n\n\n\n\nexport default function App() {\n  const [cart, setCart] = useState(()=> {\n    try{  return JSON.parse(localStorage.getItem(\"cart\") ?? [])}\n    catch{  \n      console.error(\"the cart could not be parsed into JSON\")\n      return [];\n     }\n\n});\n\n  useEffect(() => localStorage.setItem(\"cart\", JSON.stringify(\"cart\", JSON.stringify(cart))), [cart])\n\n  function addToCart(id, sku) {\n    setCart((items) => {\n      const itemInCart = items.find((i) => i.sku === sku);\n      if (itemInCart) {\n        // Return new array with the matching item replaced\n        return items.map((i) =>\n          i.sku === sku ? { ...i, quantity: i.quantity + 1 } : i\n        );\n      } else {\n        // Return new array with the new item appended\n        return [...items, { id, sku, quantity: 1 }];\n      }\n    });\n  }\n\n  function updateQuantity(sku, quantity){\n    setCart(items => {\n     \n        return  quantity===0 ? items.filter(i=> i.sku !== sku) \n        : items.map(i => i.sku === sku ? {...i, quantity}: i);\n\n      \n\n    });\n  }\n\n  return (\n\n    <>\n      <div className=\"content\">\n        <Header />\n        <main>\n        <Routes>\n        <Route path=\"/\" element={<h1>Welcome to craved rocked fitness</h1>} /> \n         <Route path=\"/:category\" element={<Products/>} /> \n         <Route path=\"/:category/:id\" element={<Details addToCart={addToCart} /> }  /> \n         <Route path=\"/cart\" element={<Cart cart={cart} updateQuantity={updateQuantity}   />} /> \n         <Route path=\"/checkout\" element={<Checkout cart={cart} />} /> \n\n \n        </Routes>\n        </main>\n      </div>\n      <Footer />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}