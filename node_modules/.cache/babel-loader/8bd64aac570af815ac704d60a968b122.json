{"ast":null,"code":"var _jsxFileName = \"/home/haroon/Desktop/React/LearningReact/online-store/src/components/Cart.jsx\";\nimport React from \"react\";\nimport useFetchAll from \"../services/useFetchAll\";\nimport Spinner from \"./Spinner\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function Cart({\n  cart,\n  updateQuantity\n}) {\n  const urls = cart.map(i => `products/${i.id}`);\n  const {\n    data: products,\n    loading,\n    error\n  } = useFetchAll(urls);\n  const navigate = useNavigate();\n\n  function renderItem(itemInCart) {\n    const {\n      id,\n      sku,\n      quantity\n    } = itemInCart;\n    const {\n      price,\n      name,\n      image,\n      skus\n    } = products.find(p => p.id === parseInt(id));\n    const {\n      size\n    } = skus.find(s => s.sku === sku);\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: sku,\n      className: \"cart-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `/images/${image}`,\n      alt: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }\n    }, name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }\n    }, \"$\", price), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 11\n      }\n    }, \"Size: \", size), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      \"aria-label\": `Select quantity for ${name} size ${size}`,\n      onChange: e => updateQuantity(sku, parseInt(e.target.value)),\n      value: quantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 15\n      }\n    }, \"Remove\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 15\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 15\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 15\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }, \"5\")))));\n  }\n\n  if (loading) return /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 23\n    }\n  });\n  if (error) throw error;\n  const numItemsInCart = cart.reduce((total, item) => total + item.quantity, 0);\n  return /*#__PURE__*/React.createElement(\"section\", {\n    id: \"cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, numItemsInCart === 0 ? \"Your cart is empty\" : `${numItemsInCart} Item${numItemsInCart > 1 ? \"s\" : \"\"} in My Cart`), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, cart.map(renderItem)), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: () => navigate(\"/checkout\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Proceed to checkout \"));\n}","map":{"version":3,"sources":["/home/haroon/Desktop/React/LearningReact/online-store/src/components/Cart.jsx"],"names":["React","useFetchAll","Spinner","useNavigate","Cart","cart","updateQuantity","urls","map","i","id","data","products","loading","error","navigate","renderItem","itemInCart","sku","quantity","price","name","image","skus","find","p","parseInt","size","s","e","target","value","numItemsInCart","reduce","total","item"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport useFetchAll from \"../services/useFetchAll\";\nimport Spinner from \"./Spinner\";\n\nimport {useNavigate} from \"react-router-dom\";\n\nexport default function Cart({ cart, updateQuantity }) {\n  const urls = cart.map((i) => `products/${i.id}`);\n  const { data: products, loading, error } = useFetchAll(urls);\n\n  const navigate = useNavigate();\n\n  function renderItem(itemInCart) {\n    const { id, sku, quantity } = itemInCart;\n    const { price, name, image, skus } = products.find(\n      (p) => p.id === parseInt(id)\n    );\n    const { size } = skus.find((s) => s.sku === sku);\n\n    return (\n      <li key={sku} className=\"cart-item\">\n        <img src={`/images/${image}`} alt={name} />\n        <div>\n          <h3>{name}</h3>\n          <p>${price}</p>\n          <p>Size: {size}</p>\n          <p>\n            <select\n              aria-label={`Select quantity for ${name} size ${size}`}\n              onChange={(e) => updateQuantity(sku, parseInt(e.target.value))}\n              value={quantity}\n            >\n              <option value=\"0\">Remove</option>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n            </select>\n          </p>\n        </div>\n      </li>\n    );\n  }\n\n  if (loading) return <Spinner />;\n  if (error) throw error;\n\n  const numItemsInCart = cart.reduce((total, item) => total + item.quantity, 0);\n\n  return (\n    <section id=\"cart\">\n      <h1>\n        {numItemsInCart === 0\n          ? \"Your cart is empty\"\n          : `${numItemsInCart} Item${numItemsInCart > 1 ? \"s\" : \"\"} in My Cart`}\n      </h1>\n      <ul>{cart.map(renderItem)}</ul>\n\n      <button className=\"btn btn-primary\" onClick={()=> navigate(\"/checkout\")}>Proceed to checkout </button>\n\n    </section>\n  );\n}"]},"metadata":{},"sourceType":"module"}